import{b as e,B as a,L as l,S as t,p as n,s as o,v as s,r as d,c as i,a as u,e as c,o as r,f as p,l as g,k as h,x as f,i as v,y as m,z as b,A as y,C as O,D as _,E as S,G as w,H as C,I as B,J as V,w as x,K as M}from"./index.js";import{c as k}from"./createAsyncComponent.js";const G=e({name:"GSelectBiz",components:{AButton:a,LoadingOutlined:l,SearchOutlined:t},inheritAttrs:!1,props:{showButton:n.bool.def(!1),disabled:n.bool.def(!1),placeholder:{type:String,default:"请选择"},multiple:{type:String,default:"multiple"},loading:n.bool.def(!1),maxTagCount:n.number},emits:["handleOpen","change"],setup(e,{emit:a}){const l=o(),t=s("selectOptions",d([])),n=s("selectValues",i({value:[],change:!1}));return{attrs:l,selectValues:n,options:t,handleChange:function(e){n.value=e,a("change",e)},openModal:function(){a("handleOpen")}}}}),A=(e=>(y("data-v-5644c45a"),e=e(),O(),e))((()=>_("span",null,"选择",-1)));var E=u(e({name:"GSelectFriend",inheritAttrs:!1,components:{GSelectBiz:u(G,[["render",function(e,a,l,t,n,o){const s=c("LoadingOutlined"),d=c("a-input"),i=c("a-select"),u=c("a-col"),y=c("SearchOutlined"),O=c("a-button"),_=c("a-row");return r(),p("div",null,[g(_,{class:"g-select-row",type:"flex",gutter:8},{default:h((()=>[g(u,{class:f(["left",{full:!e.showButton}])},{default:h((()=>[e.loading?(r(),v(d,{key:0,readOnly:"",placeholder:"加载中…"},{prefix:h((()=>[g(s)])),_:1})):(r(),v(i,m({key:1,ref:"select",value:e.selectValues.value,"onUpdate:value":a[0]||(a[0]=a=>e.selectValues.value=a),placeholder:e.placeholder,mode:e.multiple,open:!1,disabled:e.disabled,options:e.options,maxTagCount:e.maxTagCount,onChange:e.handleChange,style:{width:"100%"},onClick:a[1]||(a[1]=a=>!e.disabled&&e.openModal(!1))},e.attrs),null,16,["value","placeholder","mode","disabled","options","maxTagCount","onChange"]))])),_:1},8,["class"]),e.showButton?(r(),v(u,{key:0,class:"right"},{default:h((()=>[g(O,{type:"primary",loading:e.loading,disabled:e.disabled,onClick:a[2]||(a[2]=a=>e.openModal(!0))},{icon:h((()=>[g(y)])),default:h((()=>[A])),_:1},8,["loading","disabled"])])),_:1})):b("",!0)])),_:1})])}],["__scopeId","data-v-5644c45a"]]),SelectFriendModal:k((()=>M((()=>import("./SelectFriendModal.js")),["assets/SelectFriendModal.js","assets/TableImg.js","assets/TableImg.css","assets/index.js","assets/index14.css","assets/index6.js","assets/index2.css","assets/index8.js","assets/index5.css","assets/onMountedOrActivated.js","assets/useContentViewHeight.js","assets/ArrowLeftOutlined.js","assets/merge.js","assets/sortable.esm.js","assets/RedoOutlined.js","assets/scrollTo.js","assets/index13.js","assets/index12.css","assets/index14.js"])))},props:{value:n.array,rowKey:n.string.def("user_id"),labelKey:n.string.def("nickname"),params:n.object.def((()=>({})))},emits:["options-change","change","update:value"],setup(e,{emit:a}){const l=o(),t=d([]),[n,{openModal:s}]=S(),[u]=w(e,"value","change",t),c=d([]),r=i({value:[],change:!1}),p=Object.assign({},C(e),C(l)),g=d(!0),h=d(!1);return B("selectOptions",c),B("selectValues",r),B("loadingEcho",h),V((()=>function(){let a=e.value;a&&a.length>0?r.value=a:r.value=[]}())),x(r,(()=>{r&&(u.value=r.value)})),{state:u,attrs:l,selectOptions:c,getBindValue:p,selectValues:r,btnLoading:g,loadingEcho:h,registerModal:function(...e){g.value=!1,n.apply(null,e)},setValue:function(e,l){c.value=e,u.value=l,r.value=l,a("update:value",l)},handleOpen:function(){s(!0,{isUpdate:!1})}}}}),[["render",function(e,a,l,t,n,o){const s=c("GSelectBiz"),d=c("SelectFriendModal");return r(),p("div",null,[g(s,m({onHandleOpen:e.handleOpen,loading:e.btnLoading||e.loadingEcho,showButton:""},e.attrs),null,16,["onHandleOpen","loading"]),g(d,m({rowKey:e.rowKey,onRegister:e.registerModal,onGetSelectResult:e.setValue},e.getBindValue),null,16,["rowKey","onRegister","onGetSelectResult"])])}],["__scopeId","data-v-376d66e4"]]);export{E as default};
