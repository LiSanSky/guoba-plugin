import{b as e,aS as a,aN as l,bk as n,p as t,bC as o,af as s,r as d,c as i,a as u,e as r,o as c,f as p,k as g,j as m,bT as h,i as f,bG as b,bU as v,cT as y,x as O,ae as S,am as _,w}from"./index.js";import{b as C}from"./index3.js";import{u as V}from"./useFormItem.js";import{c as j}from"./createAsyncComponent.js";import"./useWindowSizeFn.js";import"./FullscreenOutlined.js";const x=e({name:"GSelectBiz",components:{AButton:a,LoadingOutlined:l,SearchOutlined:n},inheritAttrs:!1,props:{showButton:t.bool.def(!1),disabled:t.bool.def(!1),placeholder:{type:String,default:"请选择"},multiple:{type:String,default:"multiple"},loading:t.bool.def(!1),maxTagCount:t.number},emits:["handleOpen","change"],setup(e,{emit:a}){const l=o(),n=s("selectOptions",d([])),t=s("selectValues",i({value:[],change:!1}));return{attrs:l,selectValues:t,options:n,handleChange:function(e){t.value=e,a("change",e)},openModal:function(){a("handleOpen")}}}});var B=u(e({name:"GSelectFriend",inheritAttrs:!1,components:{GSelectBiz:u(x,[["render",function(e,a,l,n,t,o){const s=r("LoadingOutlined"),d=r("a-input"),i=r("a-select"),u=r("a-col"),y=r("SearchOutlined"),O=r("a-button"),S=r("a-row");return c(),p("div",null,[g(S,{class:"g-select-row",type:"flex"},{default:m((()=>[g(u,{class:h(["left",{full:!e.showButton}])},{default:m((()=>[e.loading?(c(),f(d,{key:0,readOnly:"",placeholder:"加载中…"},{prefix:m((()=>[g(s)])),_:1})):(c(),f(i,b({key:1,ref:"select",value:e.selectValues.value,"onUpdate:value":a[0]||(a[0]=a=>e.selectValues.value=a),placeholder:e.placeholder,mode:e.multiple,open:!1,disabled:e.disabled,options:e.options,maxTagCount:e.maxTagCount,onChange:e.handleChange,style:{width:"100%"},onClick:a[1]||(a[1]=a=>!e.disabled&&e.openModal(!1))},e.attrs),null,16,["value","placeholder","mode","disabled","options","maxTagCount","onChange"]))])),_:1},8,["class"]),e.showButton?(c(),f(u,{key:0,class:"right"},{default:m((()=>[g(O,{type:"primary",loading:e.loading,disabled:e.disabled,onClick:a[2]||(a[2]=a=>e.openModal(!0))},{icon:m((()=>[g(y)])),_:1},8,["loading","disabled"])])),_:1})):v("",!0)])),_:1})])}],["__scopeId","data-v-5b7d54b0"]]),SelectFriendModal:j((()=>y((()=>import("./SelectFriendModal.js")),["assets/SelectFriendModal.js","assets/TableImg.js","assets/TableImg.css","assets/index.js","assets/index13.css","assets/BasicForm.js","assets/BasicForm.css","assets/index2.js","assets/index17.css","assets/_baseIteratee.js","assets/get.js","assets/index4.js","assets/index16.css","assets/index5.js","assets/index14.css","assets/index6.js","assets/index5.css","assets/useFormItem.js","assets/transButton.js","assets/index3.js","assets/index2.css","assets/useWindowSizeFn.js","assets/FullscreenOutlined.js","assets/download.js","assets/index7.js","assets/index.css","assets/index8.js","assets/index3.css","assets/uniqBy.js","assets/useForm.js","assets/index12.js","assets/index21.css","assets/index14.js","assets/index9.css","assets/onMountedOrActivated.js","assets/useContentViewHeight.js","assets/ArrowLeftOutlined.js","assets/sortable.esm.js","assets/RedoOutlined.js","assets/scrollTo.js","assets/index20.js","assets/index11.css","assets/index21.js"])))},props:{value:t.array,rowKey:t.string.def("user_id"),labelKey:t.string.def("nickname"),params:t.object.def((()=>({})))},emits:["options-change","change","update:value"],setup(e,{emit:a}){const l=o(),n=d([]),[t,{openModal:s}]=C(),[u]=V(e,"value","change",n),r=d([]),c=i({value:[],change:!1}),p=Object.assign({},O(e),O(l)),g=d(!0),m=d(!1);return S("selectOptions",r),S("selectValues",c),S("loadingEcho",m),_((()=>function(){let a=e.value;a&&a.length>0?c.value=a:c.value=[]}())),w(c,(()=>{c&&(u.value=c.value)})),{state:u,attrs:l,selectOptions:r,getBindValue:p,selectValues:c,btnLoading:g,loadingEcho:m,registerModal:function(...e){g.value=!1,t.apply(null,e)},setValue:function(e,l){r.value=e,u.value=l,c.value=l,a("update:value",l)},handleOpen:function(){s(!0,{isUpdate:!1})}}}}),[["render",function(e,a,l,n,t,o){const s=r("GSelectBiz"),d=r("SelectFriendModal");return c(),p("div",null,[g(s,b({onHandleOpen:e.handleOpen,loading:e.btnLoading||e.loadingEcho},e.attrs),null,16,["onHandleOpen","loading"]),g(d,b({rowKey:e.rowKey,onRegister:e.registerModal,onGetSelectResult:e.setValue},e.getBindValue),null,16,["rowKey","onRegister","onGetSelectResult"])])}],["__scopeId","data-v-ed01cbb0"]]);export{B as default};
