import{a as e,b as l,r as a,e as t,o as i,f as s,z as n,k as o,j as d,ca as c,m as r,F as p,h as u,bT as v,bg as m,x as g,M as h,d$ as b,l as f,cU as y,cV as L}from"./index.js";import B from"./EditBodyModal.js";import"./index6.js";import"./SelectIconModal.js";import"./IconUploader.js";const k=e=>(y("data-v-0cfa6512"),e=e(),L(),e),C={class:"change-background"},D=k((()=>n("input",{type:"file",id:"upload2",style:{display:"none"},name:"icon",accept:"image/bmp,image/jpeg,image/png"},null,-1))),j={class:"title"},x={class:"label"},U=["onClick"],w={class:"help-table"},I=["onClick"],_={class:"help-title"},$={class:"help-desc"},z={class:"copyright"},O=f(" Created By Yunzai-Bot "),A={class:"version"},E=f(" & Miao-Plugin "),M={class:"version"},T={class:"p-4"},R={class:"row"},S=k((()=>n("div",null,"主标题",-1))),F={class:"flex-1"},P={class:"row"},W=k((()=>n("div",null,"附标题",-1))),H={class:"flex-1"};var V=e(l({__name:"HelpPanel",props:{helpCfg:Object,helpList:Object,bgB64:String,mainB64:String,iconB64List:Array,modelData:Object,versions:Object},emits:["update:modelData","update:mainB64"],setup(e,{emit:l}){const f=a(!1),y=()=>{let e=document.getElementById("upload2");void 0===e.bind&&(e.bind=!0,e.addEventListener("change",(e=>{let a=e.target.files;if(0!==a.size){let e=a[0],t=new FileReader;t.readAsDataURL(e),t.onload=()=>{let e=new Image;e.setAttribute("crossOrigin","Anonymous"),e.src=t.result,e.onload=function(){let a=document.createElement("canvas");a.width=e.width,a.height=e.height,a.getContext("2d").drawImage(e,0,0),l("update:mainB64",a.toDataURL())}}}}))),e.click()},L=()=>{f.value=!0},k=(e,a,t,i)=>{l("update:modelData",{show:!0,cell:e,cellIndex:a,group:t,groupIndex:i})},V=e=>{let l=[];for(let a=0;a<e.length;a+=3)l.push(e.slice(a,a+3));return l},Y=()=>document.body.clientWidth>850?1:document.body.clientWidth/850;return(l,a)=>{const q=t("Icon"),G=t("a-button"),J=t("a-input");return i(),s("div",{style:c(`transform: scale(${Y()});transform-origin: center top;`)},[n("div",{class:"wrap",style:c({background:`url(${e.mainB64}) top left/100% auto no-repeat,url(${e.bgB64})`})},[n("div",C,[D,o(G,{style:c(`transform: scale(${1/Y()});transform-origin: right top;`),type:"primary",shape:"circle",size:"large",onClick:y},{default:d((()=>[o(q,{icon:"akar-icons:image"})])),_:1},8,["style"])]),n("div",{class:"head-box",onClick:L},[n("div",j,r(e.helpCfg.title),1),n("div",x,r(e.helpCfg.subTitle),1)]),(i(!0),s(p,null,u(e.helpList,((l,a)=>(i(),s("div",{class:"cont-box",key:a},[n("div",{class:"help-group",onClick:e=>k(null,null,l,a)},r(l.group),9,U),n("div",w,[(i(!0),s(p,null,u(V(l.list),((t,g)=>(i(),s("div",{class:"tr",key:g},[(i(!0),s(p,null,u(t,((t,p)=>(i(),s("div",{class:v(["td",t===e.modelData.cell?"active":"inactive"]),key:p,onClick:e=>k(t,3*g+p,l,a)},[o(m,{name:"fade-transition"},{default:d((()=>[n("div",null,[n("div",{class:"help-icon",style:c(`background: url(${e.iconB64List[t.icon]}) 0 0 no-repeat`)},null,4),n("div",_,r(t.title),1),n("div",$,r(t.desc),1)])])),_:2},1024)],10,I)))),128))])))),128))])])))),128)),n("div",z,[O,n("span",A,r(e.versions.yunzai),1),E,n("span",M,r(e.versions.miao),1)])],4),o(g(h),{visible:f.value,"onUpdate:visible":a[2]||(a[2]=e=>f.value=e),title:"编辑标题",closable:!1,footer:null},{default:d((()=>[n("div",T,[n("div",R,[S,n("div",F,[o(J,{value:e.helpCfg.title,"onUpdate:value":a[0]||(a[0]=l=>e.helpCfg.title=l),placeholder:"主标题"},null,8,["value"])])]),n("div",P,[W,n("div",H,[o(J,{value:e.helpCfg.subTitle,"onUpdate:value":a[1]||(a[1]=l=>e.helpCfg.subTitle=l),placeholder:"附标题"},null,8,["value"])])])])])),_:1},8,["visible"]),o(B,{helpList:e.helpList,"onUpdate:helpList":a[3]||(a[3]=e=>b(helpList)?helpList.value=e:null),modelData:e.modelData,"onUpdate:modelData":a[4]||(a[4]=e=>b(modelData)?modelData.value=e:null),iconB64List:e.iconB64List,"onUpdate:iconB64List":a[5]||(a[5]=e=>b(iconB64List)?iconB64List.value=e:null)},null,8,["helpList","modelData","iconB64List"])],4)}}}),[["__scopeId","data-v-0cfa6512"]]);export{V as default};
