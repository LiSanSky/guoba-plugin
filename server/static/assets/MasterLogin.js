import{a as e,b as a,R as r,an as t,ao as n,o as s,f as o,ap as l,n as u}from"./index.js";var i=e(a({name:"MasterLogin",setup(){let e=r((()=>t.currentRoute.value.params.code));const a=n();return function(){return r=this,n=null,s=function*(){let{ok:r,result:n}=yield l.post({url:"/login/quick",params:{code:e.value}},{retryRequest:{isOpenRetry:!1},isTransformResponse:!1});r&&n&&n.token&&(a.setToken(n.token),yield u()),t.replace("/login")},new Promise(((e,a)=>{var t=e=>{try{l(s.next(e))}catch(r){a(r)}},o=e=>{try{l(s.throw(e))}catch(r){a(r)}},l=a=>a.done?e(a.value):Promise.resolve(a.value).then(t,o);l((s=s.apply(r,n)).next())}));var r,n,s}(),{}}}),[["render",function(e,a,r,t,n,l){return s(),o("div",null," 登录中…… ")}]]);export{i as default};
