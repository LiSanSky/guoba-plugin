import{a as e,b as r,v as t,d6 as a,d7 as n,o as s,f as o,d8 as l,q as u}from"./index.js";var i=e(r({name:"MasterLogin",setup(){let e=t((()=>a.currentRoute.value.params.code));const r=n();return function(){return t=this,n=null,s=function*(){let{ok:t,result:n}=yield l.post({url:"/login/quick",params:{code:e.value}},{retryRequest:{isOpenRetry:!1},isTransformResponse:!1});t&&n&&n.token&&(r.setToken(n.token),yield u()),a.replace("/login")},new Promise(((e,r)=>{var a=e=>{try{l(s.next(e))}catch(t){r(t)}},o=e=>{try{l(s.throw(e))}catch(t){r(t)}},l=r=>r.done?e(r.value):Promise.resolve(r.value).then(a,o);l((s=s.apply(t,n)).next())}));var t,n,s}(),{}}}),[["render",function(e,r,t,a,n,l){return s(),o("div",null," 登录中…… ")}]]);export{i as default};
