import{b as e,ab as a,a8 as l,r as s,c as o,R as t,H as n,o as r,f as i,l as u,k as c,ac as m,ad as d,B as f,m as g,q as p,F as v,z as y}from"./index.js";import{u as b,a as x,L as h,_ as k,b as _}from"./LoginFormTitle.js";const z=e({setup(e){const z=a.Item,{t:L}=l(),{handleBackLogin:B,getLoginState:C}=b(),{getFormRules:F}=x(),I=s(),R=s(!1),j=o({mobile:"",sms:""}),{validForm:w}=_(I),P=t((()=>n(C)===h.MOBILE));function S(){return e=this,a=null,l=function*(){yield w()},new Promise(((s,o)=>{var t=e=>{try{r(l.next(e))}catch(a){o(a)}},n=e=>{try{r(l.throw(e))}catch(a){o(a)}},r=e=>e.done?s(e.value):Promise.resolve(e.value).then(t,n);r((l=l.apply(e,a)).next())}));var e,a,l}return(e,l)=>n(P)?(r(),i(v,{key:0},[u(k,{class:"enter-x"}),u(n(a),{class:"p-4 enter-x",model:n(j),rules:n(F),ref_key:"formRef",ref:I},{default:c((()=>[u(n(z),{name:"mobile",class:"enter-x"},{default:c((()=>[u(n(m),{size:"large",value:n(j).mobile,"onUpdate:value":l[0]||(l[0]=e=>n(j).mobile=e),placeholder:n(L)("sys.login.mobile"),class:"fix-auto-fill"},null,8,["value","placeholder"])])),_:1}),u(n(z),{name:"sms",class:"enter-x"},{default:c((()=>[u(n(d),{size:"large",class:"fix-auto-fill",value:n(j).sms,"onUpdate:value":l[1]||(l[1]=e=>n(j).sms=e),placeholder:n(L)("sys.login.smsCode")},null,8,["value","placeholder"])])),_:1}),u(n(z),{class:"enter-x"},{default:c((()=>[u(n(f),{type:"primary",size:"large",block:"",onClick:S,loading:R.value},{default:c((()=>[g(p(n(L)("sys.login.loginButton")),1)])),_:1},8,["loading"]),u(n(f),{size:"large",block:"",class:"mt-4",onClick:n(B)},{default:c((()=>[g(p(n(L)("sys.login.backSignIn")),1)])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])],64)):y("",!0)}});export{z as default};
