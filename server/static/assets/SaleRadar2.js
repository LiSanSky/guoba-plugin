import{b as e,r as a,R as s,e as t,o as n,i as l,k as r,l as i,D as o,a2 as u,H as c,cr as m,ap as p}from"./index.js";const v=e({setup(e){const v=a(""),d=a(!1),g=a(500),h=s((()=>{let e={};return e.backgroundImage=`url(${v.value})`,e.height=`${g.value}px`,e}));return function(){return e=this,a=null,s=function*(){try{d.value=!0;let e=yield p.get({url:"/home/random-image",responseType:"blob"},{isTransformResponse:!1,isReturnNativeResponse:!0}),a=new Image;v.value=URL.createObjectURL(e.data),a.src=v.value,yield new Promise((e=>a.onload=e)),g.value=500}finally{d.value=!1}},new Promise(((t,n)=>{var l=e=>{try{i(s.next(e))}catch(a){n(a)}},r=e=>{try{i(s.throw(e))}catch(a){n(a)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(l,r);i((s=s.apply(e,a)).next())}));var e,a,s}(),(e,a)=>{const s=t("a-spin");return n(),l(c(m),{class:"random-iamge-card",title:"随机美图",style:{"min-height":"300px"}},{default:r((()=>[i(s,{spinning:d.value,style:{"min-height":"150px"}},{default:r((()=>[o("div",{class:"img",style:u(c(h))},null,4)])),_:1},8,["spinning"])])),_:1})}}});export{v as default};
