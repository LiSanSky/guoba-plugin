var e=(e,t,a)=>new Promise(((m,o)=>{var l=e=>{try{r(a.next(e))}catch(t){o(t)}},s=e=>{try{r(a.throw(e))}catch(t){o(t)}},r=e=>e.done?m(e.value):Promise.resolve(e.value).then(l,s);r((a=a.apply(e,t)).next())}));import{b as t,dD as a,ai as m,n as o,e as l,o as s,i as r,k as i,l as n,H as d,dC as h,m as u,w as p}from"./index.js";import{a as c,B as f}from"./index23.js";import{s as g}from"./miao.data.js";import b from"./ThemeConfigForm.js";import"./index3.js";import"./ArrowLeftOutlined.js";import"./lodash.default.js";import"./throttle.js";import"./merge.js";import"./miao.api.js";import"./base64Conver.js";const y=u("关闭"),N=t({props:{model:{type:Object,default:()=>({})},themeName:String,themeNames:Array,themeStyle:Object,debugThemeName:String},emits:["register","update:model","update:themeStyle","update:debugThemeName"],setup(t,{emit:u}){const N=t,[w,{setDrawerProps:j,closeDrawer:x}]=c(),[S,{getFieldsValue:C,setFieldsValue:v,updateSchema:A}]=a({schemas:g,labelWidth:120,labelAlign:"right",labelCol:{xs:24,sm:5},wrapperCol:{xs:24,sm:19},showActionButtonGroup:!1,baseColProps:{span:24}}),T=window.innerWidth>=600?"600px":"100%";function P(t,a){return e(this,null,(function*(){S(t),yield function(){return e(this,null,(function*(){let e=[];yield A({field:"themeSet",componentProps:{onChange(t){t?Array.isArray(e)&&e.length>0?v({theme:e}):v({theme:["default"]}):(e=C().theme,v({theme:"all"}))}}}),p((()=>N.themeNames),(e=>{Array.isArray(e)||(e=[]),0===e.length&&(e=["default"]);let t=e.map((e=>({label:e,value:e})));A([{field:"theme",componentProps:{options:t}},{field:"themeExclude",componentProps:{options:t}}])}),{deep:!0,immediate:!0})}))}(),yield v(N.model),p((()=>N.model),(()=>v(N.model))),p(a,k,{immediate:!0})}))}function k(e){e.themeSet="all"!==e.theme,u("update:model",e)}return m((()=>{j({visible:!0}),o((()=>x()))})),(e,a)=>{const m=l("a-col"),o=l("a-button"),p=l("a-row");return s(),r(d(f),{title:"高级设置",width:d(T),placement:"left",showFooter:"",maskStyle:{backgroundColor:"rgba(0,0,0,0.2)"},onRegister:d(w)},{footer:i((()=>[n(p,{type:"flex",justify:"space-between"},{default:i((()=>[n(m),n(m,null,{default:i((()=>[n(o,{onClick:d(x)},{default:i((()=>[y])),_:1},8,["onClick"])])),_:1})])),_:1})])),default:i((()=>[n(d(h),{onRegister:P}),n(b,{model:t.themeStyle,themeName:t.themeName,debugThemeName:t.debugThemeName,themeNames:t.themeNames,"onUpdate:model":a[0]||(a[0]=e=>u("update:themeStyle",e)),"onUpdate:debugThemeName":a[1]||(a[1]=e=>u("update:debugThemeName",e))},null,8,["model","themeName","debugThemeName","themeNames"])])),_:1},8,["width","maskStyle","onRegister"])}}});export{N as default};
