var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(s,t,a)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,n=(e,s)=>{for(var t in s||(s={}))r.call(s,t)&&l(e,t,s[t]);if(a)for(var t of a(s))o.call(s,t)&&l(e,t,s[t]);return e},i=(e,s,t)=>new Promise(((a,r)=>{var o=e=>{try{n(t.next(e))}catch(s){r(s)}},l=e=>{try{n(t.throw(e))}catch(s){r(s)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,l);n((t=t.apply(e,s)).next())}));import{b as u,s as c,r as p,W as d,dD as m,R as f,H as v,ag as y,e as b,o as g,i as j,k as h,l as O,dC as w,y as P,V as C,e9 as x}from"./index.js";import{j as R}from"./miao.api.js";import{u as M}from"./miao.data.js";import"./base64Conver.js";import"./lodash.default.js";import"./throttle.js";import"./merge.js";const k=u({props:{},emits:["register","success"],setup(e,{emit:a}){const r=e,o=c(),{createMessage:l}=x(),u=p(!1),k=p(),A=p(),[D,{closeModal:F,setModalProps:L}]=d((function(e){return i(this,null,(function*(){yield _(),A.value=e.name,k.value=y(null==e?void 0:e.style),yield B(n({},k.value))}))}));let V=M();const[W,{resetFields:_,setFieldsValue:B,validate:E}]=m({schemas:V,labelWidth:120,labelAlign:"right",labelCol:{xs:24,sm:5},wrapperCol:{xs:24,sm:19},showActionButtonGroup:!1,baseColProps:{span:24}}),G=f((()=>{let e={width:600,title:`编辑皮肤（${A.value}）`,confirmLoading:v(u)};var a;return a=n(n(n({},v(o)),e),r),s(a,t({onOk:I,onCancel:H,onRegister:D}))}));function H(){F()}function I(){return i(this,null,(function*(){try{let e=yield E(),s=Object.assign({},k.value,e);N(!0),yield R(A.value,s),l.success("保存成功~"),H(),a("success")}finally{N(!1)}}))}function N(e){u.value=e,L({confirmLoading:e})}return(e,s)=>{const t=b("a-spin");return g(),j(v(C),P(v(G),{destroyOnClose:""}),{default:h((()=>[O(t,{wrapperClassName:"p-2",spinning:u.value},{default:h((()=>[O(v(w),{onRegister:v(W)},null,8,["onRegister"])])),_:1},8,["spinning"])])),_:1},16)}}});export{k as default};
