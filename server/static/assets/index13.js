import{b as t,R as e,c as n,r as a,w as o,bE as l,_ as r,l as u,at as c,as as s,b$ as i,cd as v,ar as f,dJ as p,bH as d,au as b,bQ as y,bX as m,dK as g,ca as x,dL as h,dM as S,a0 as w,a3 as C}from"./index.js";function O(t){var e,n=t.prefixCls,a=t.value,o=t.current,l=t.offset,r=void 0===l?0:l;return r&&(e={position:"absolute",top:"".concat(r,"00%"),left:0}),u("p",{style:e,class:c("".concat(n,"-only-unit"),{current:o})},[a])}function N(t,e,n){for(var a=t,o=0;(a+10)%10!==e;)a+=n,o+=n;return o}var j=t({name:"SingleNumber",props:{prefixCls:String,value:String,count:Number},setup:function(t){var c=e((function(){return Number(t.value)})),s=e((function(){return Math.abs(t.count)})),i=n({prevValue:c.value,prevCount:s.value}),v=function(){i.prevValue=c.value,i.prevCount=s.value},f=a();return o(c,(function(){clearTimeout(f.value),f.value=setTimeout((function(){v()}),1e3)}),{flush:"post"}),l((function(){clearTimeout(f.value)})),function(){var e,n={},a=c.value;if(i.prevValue===a||Number.isNaN(a)||Number.isNaN(i.prevValue))e=[O(r(r({},t),{current:!0}))],n={transition:"none"};else{e=[];for(var o=a+10,l=[],f=a;f<=o;f+=1)l.push(f);var p=l.findIndex((function(t){return t%10===i.prevValue}));e=l.map((function(e,n){var a=e%10;return O(r(r({},t),{value:a,offset:n-p,current:n===p}))}));var d=i.prevCount<s.value?1:-1;n={transform:"translateY(".concat(-N(i.prevValue,a,d),"00%)")}}return u("span",{class:"".concat(t.prefixCls,"-only"),style:n,onTransitionend:function(){return v()}},[e])}}}),T=globalThis&&globalThis.__rest||function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]])}return n},P=t({name:"ScrollNumber",inheritAttrs:!1,props:{prefixCls:String,count:f.any,component:String,title:f.any,show:Boolean},setup:function(t,e){var n=e.attrs,a=e.slots,o=s("scroll-number",t).prefixCls;return function(){var e,l=r(r({},t),n);l.prefixCls;var s=l.count,f=l.title;l.show;var p=l.component,d=void 0===p?"sup":p,b=l.class,y=l.style,m=T(l,["prefixCls","count","title","show","component","class","style"]),g=r(r({},m),{style:y,"data-show":t.show,class:c(o.value,b),title:f}),x=s;if(s&&Number(s)%1==0){var h=String(s).split("");x=h.map((function(t,e){return u(j,{prefixCls:o.value,count:Number(s),value:t,key:h.length-e},null)}))}y&&y.borderColor&&(g.style=r(r({},y),{boxShadow:"0 0 0 1px ".concat(y.borderColor," inset")}));var S=i(null===(e=a.default)||void 0===e?void 0:e.call(a));return S&&S.length?v(S,{class:c("".concat(o.value,"-custom-component"))},!1):u(d,g,{default:function(){return[x]}})}}});function A(t){return-1!==p.indexOf(t)}var B=globalThis&&globalThis.__rest||function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]])}return n},V=t({name:"ABadgeRibbon",inheritAttrs:!1,props:{prefix:String,color:{type:String},text:f.any,placement:{type:String,default:"end"}},slots:["text"],setup:function(t,n){var a=n.attrs,o=n.slots,l=s("ribbon",t),c=l.prefixCls,i=l.direction,v=e((function(){return A(t.color)})),f=e((function(){var e;return[c.value,"".concat(c.value,"-placement-").concat(t.placement),(e={},b(e,"".concat(c.value,"-rtl"),"rtl"===i.value),b(e,"".concat(c.value,"-color-").concat(t.color),v.value),e)]}));return function(){var e,n,l=a.class,s=a.style,i=B(a,["class","style"]),p={},b={};return t.color&&!v.value&&(p.background=t.color,b.color=t.color),u("div",d({class:"".concat(c.value,"-wrapper")},i),[null===(e=o.default)||void 0===e?void 0:e.call(o),u("div",{class:[f.value,l],style:r(r({},p),s)},[u("span",{class:"".concat(c.value,"-text")},[t.text||(null===(n=o.text)||void 0===n?void 0:n.call(o))]),u("div",{class:"".concat(c.value,"-corner"),style:b},null)])])}}}),k=t({name:"ABadge",Ribbon:V,inheritAttrs:!1,props:{count:f.any,showZero:{type:Boolean,default:void 0},overflowCount:{type:Number,default:99},dot:{type:Boolean,default:void 0},prefixCls:String,scrollNumberPrefixCls:String,status:{type:String},size:{type:String,default:"default"},color:String,text:f.any,offset:Array,numberStyle:{type:Object,default:void 0},title:String},slots:["text","count"],setup:function(t,n){var l=n.slots,i=n.attrs,f=s("badge",t),p=f.prefixCls,O=f.direction,N=e((function(){return t.count>t.overflowCount?"".concat(t.overflowCount,"+"):t.count})),j=e((function(){return null!==t.status&&void 0!==t.status||null!==t.color&&void 0!==t.color})),T=e((function(){return"0"===N.value||0===N.value})),B=e((function(){return t.dot&&!T.value})),V=e((function(){return B.value?"":N.value})),k=e((function(){return(null===V.value||void 0===V.value||""===V.value||T.value&&!t.showZero)&&!B.value})),I=a(t.count),_=a(V.value),R=a(B.value);o([function(){return t.count},V,B],(function(){k.value||(I.value=t.count,_.value=V.value,R.value=B.value)}),{immediate:!0});var z=e((function(){var e;return b(e={},"".concat(p.value,"-status-dot"),j.value),b(e,"".concat(p.value,"-status-").concat(t.status),!!t.status),b(e,"".concat(p.value,"-status-").concat(t.color),A(t.color)),e})),E=e((function(){return t.color&&!A(t.color)?{background:t.color}:{}})),M=e((function(){var e;return b(e={},"".concat(p.value,"-dot"),R.value),b(e,"".concat(p.value,"-count"),!R.value),b(e,"".concat(p.value,"-count-sm"),"small"===t.size),b(e,"".concat(p.value,"-multiple-words"),!R.value&&_.value&&_.value.toString().length>1),b(e,"".concat(p.value,"-status-").concat(t.status),!!t.status),b(e,"".concat(p.value,"-status-").concat(t.color),A(t.color)),e}));return function(){var e,n,a,o=t.offset,s=t.title,f=t.color,N=i.style,T=y(l,t,"text"),B=p.value,V=I.value,R=m(null===(n=l.default)||void 0===n?void 0:n.call(l));R=R.length?R:null;var Z=!(k.value&&!l.count),H=function(){if(!o)return r({},N);var t={marginTop:g(o[1])?"".concat(o[1],"px"):o[1]};return"rtl"===O.value?t.left="".concat(parseInt(o[0],10),"px"):t.right="".concat(-parseInt(o[0],10),"px"),r(r({},t),N)}(),J=null!=s?s:"string"==typeof V||"number"==typeof V?V:void 0,K=Z||!T?null:u("span",{class:"".concat(B,"-status-text")},[T]),L="object"===x(V)||void 0===V&&l.count?v(null!=V?V:null===(a=l.count)||void 0===a?void 0:a.call(l),{style:H},!1):null,Q=c(B,(b(e={},"".concat(B,"-status"),j.value),b(e,"".concat(B,"-not-a-wrapper"),!R),b(e,"".concat(B,"-rtl"),"rtl"===O.value),e),i.class);if(!R&&j.value){var X=H.color;return u("span",d(d({},i),{},{class:Q,style:H}),[u("span",{class:z.value,style:E.value},null),u("span",{style:{color:X},class:"".concat(B,"-status-text")},[T])])}var Y=h(R?"".concat(B,"-zoom"):"",{appear:!1}),$=r(r({},H),t.numberStyle);return f&&!A(f)&&(($=$||{}).background=f),u("span",d(d({},i),{},{class:Q}),[R,u(S,Y,{default:function(){return[w(u(P,{prefixCls:t.scrollNumberPrefixCls,show:Z,class:M.value,count:_.value,title:J,style:$,key:"scrollNumber"},{default:function(){return[L]}}),[[C,Z]])]}}),K])}}});export{k as B,V as R};
