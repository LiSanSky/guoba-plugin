import{b as e,G as a,k as t,T as n,af as l,r as i,O as o,X as r,N as u,V as c,H as v,cp as s,e9 as d,ea as p,aH as f,ae as m,ao as g,v as y,K as h,w as b,_ as S,ag as x,eb as O,ec as I,e2 as L,bm as j,cr as w,S as z}from"./index.js";var C=e({name:"AListItemMeta",props:{avatar:n.any,description:n.any,prefixCls:String,title:n.any},displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:["avatar","description","title"],setup:function(e,n){var l=n.slots,i=a("list",e).prefixCls;return function(){var a,n,o,r,u,c,v="".concat(i.value,"-item-meta"),s=null!==(a=e.title)&&void 0!==a?a:null===(n=l.title)||void 0===n?void 0:n.call(l),d=null!==(o=e.description)&&void 0!==o?o:null===(r=l.description)||void 0===r?void 0:r.call(l),p=null!==(u=e.avatar)&&void 0!==u?u:null===(c=l.avatar)||void 0===c?void 0:c.call(l),f=t("div",{class:"".concat(i.value,"-item-meta-content")},[s&&t("h4",{class:"".concat(i.value,"-item-meta-title")},[s]),d&&t("div",{class:"".concat(i.value,"-item-meta-description")},[d])]);return t("div",{class:v},[p&&t("div",{class:"".concat(i.value,"-item-meta-avatar")},[p]),(s||d)&&f])}}}),M=Symbol("ListContextKey"),k=globalThis&&globalThis.__rest||function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)a.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(t[n[l]]=e[n[l]])}return t},A=e({name:"AListItem",inheritAttrs:!1,Meta:C,props:{prefixCls:String,extra:n.any,actions:n.array,grid:Object,colStyle:{type:Object,default:void 0}},slots:["actions","extra"],setup:function(e,n){var f=n.slots,m=n.attrs,g=l(M,{grid:i(),itemLayout:i()}),y=g.itemLayout,h=g.grid,b=a("list",e).prefixCls,S=function(){var a,t,n=null!==(a=e.extra)&&void 0!==a?a:null===(t=f.extra)||void 0===t?void 0:t.call(f);return"vertical"===y.value?!!n:!function(){var e,a,t=(null===(e=f.default)||void 0===e?void 0:e.call(f))||[];return t.forEach((function(e){d(e)&&!p(e)&&(a=!0)})),a&&t.length>1}()};return function(){var a,n,l,i,d,p=m.class,g=k(m,["class"]),x=b.value,O=null!==(a=e.extra)&&void 0!==a?a:null===(n=f.extra)||void 0===n?void 0:n.call(f),I=null===(l=f.default)||void 0===l?void 0:l.call(f),L=null!==(i=e.actions)&&void 0!==i?i:o(null===(d=f.actions)||void 0===d?void 0:d.call(f)),j=(L=L&&!Array.isArray(L)?[L]:L)&&L.length>0&&t("ul",{class:"".concat(x,"-item-action"),key:"actions"},[L.map((function(e,a){return t("li",{key:"".concat(x,"-item-action-").concat(a)},[e,a!==L.length-1&&t("em",{class:"".concat(x,"-item-action-split")},null)])}))]),w=h.value?"div":"li",z=t(w,u(u({},g),{},{class:c("".concat(x,"-item"),v({},"".concat(x,"-item-no-flex"),!S()),p)}),{default:function(){return["vertical"===y.value&&O?[t("div",{class:"".concat(x,"-item-main"),key:"content"},[I,j]),t("div",{class:"".concat(x,"-item-extra"),key:"extra"},[O])]:[I,j,r(O,{key:"extra"})]]}});return h.value?t(s,{flex:1,style:e.colStyle},{default:function(){return[z]}}):z}}}),T=e({name:"AList",Item:A,props:f({bordered:{type:Boolean,default:void 0},dataSource:n.array,extra:n.any,grid:{type:Object,default:void 0},itemLayout:String,loading:{type:[Boolean,Object],default:void 0},loadMore:n.any,pagination:{type:[Boolean,Object],default:void 0},prefixCls:String,rowKey:[String,Number,Function],renderItem:Function,size:String,split:{type:Boolean,default:void 0},header:n.any,footer:n.any,locale:{type:Object}},{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:["extra","loadMore","renderItem","header","footer"],setup:function(e,n){var l,r,c=n.slots;m(M,{grid:g(e,"grid"),itemLayout:g(e,"itemLayout")});var s={current:1,total:0},d=a("list",e),p=d.prefixCls,f=d.direction,C=d.renderEmpty,k=y((function(){return e.pagination&&"object"===h(e.pagination)?e.pagination:{}})),A=i(null!==(l=k.value.defaultCurrent)&&void 0!==l?l:1),T=i(null!==(r=k.value.defaultPageSize)&&void 0!==r?r:10);b(k,(function(){"current"in k.value&&(A.value=k.value.current),"pageSize"in k.value&&(T.value=k.value.pageSize)}));var _=[],K=function(e){return function(a,t){A.value=a,T.value=t,k.value[e]&&k.value[e](a,t)}},E=K("onChange"),B=K("onShowSizeChange"),N=y((function(){return"boolean"==typeof e.loading?{spinning:e.loading}:e.loading})),P=y((function(){return N.value&&N.value.spinning})),H=y((function(){var a="";switch(e.size){case"large":a="lg";break;case"small":a="sm"}return a})),F=y((function(){var a;return v(a={},"".concat(p.value),!0),v(a,"".concat(p.value,"-vertical"),"vertical"===e.itemLayout),v(a,"".concat(p.value,"-").concat(H.value),H.value),v(a,"".concat(p.value,"-split"),e.split),v(a,"".concat(p.value,"-bordered"),e.bordered),v(a,"".concat(p.value,"-loading"),P.value),v(a,"".concat(p.value,"-grid"),!!e.grid),v(a,"".concat(p.value,"-rtl"),"rtl"===f.value),a})),G=y((function(){var a=S(S(S({},s),{total:e.dataSource.length,current:A.value,pageSize:T.value}),e.pagination||{}),t=Math.ceil(a.total/a.pageSize);return a.current>t&&(a.current=t),a})),V=y((function(){var a=x(e.dataSource);return e.pagination&&e.dataSource.length>(G.value.current-1)*G.value.pageSize&&(a=x(e.dataSource).splice((G.value.current-1)*G.value.pageSize,G.value.pageSize)),a})),W=O(),X=I((function(){for(var e=0;e<L.length;e+=1){var a=L[e];if(W.value[a])return a}})),q=y((function(){if(e.grid){var a=X.value&&e.grid[X.value]?e.grid[X.value]:e.grid.column;return a?{width:"".concat(100/a,"%"),maxWidth:"".concat(100/a,"%")}:void 0}}));return function(){var a,n,l,i,r,s,d,f=null!==(a=e.loadMore)&&void 0!==a?a:null===(n=c.loadMore)||void 0===n?void 0:n.call(c),m=null!==(l=e.footer)&&void 0!==l?l:null===(i=c.footer)||void 0===i?void 0:i.call(c),g=null!==(r=e.header)&&void 0!==r?r:null===(s=c.header)||void 0===s?void 0:s.call(c),y=o(null===(d=c.default)||void 0===d?void 0:d.call(c)),b=!!(f||e.pagination||m),x=S(S({},F.value),v({},"".concat(p.value,"-something-after-last-item"),b)),O=e.pagination?t("div",{class:"".concat(p.value,"-pagination")},[t(j,u(u({},G.value),{},{onChange:E,onShowSizeChange:B}),null)]):null,I=P.value&&t("div",{style:{minHeight:"53px"}},null);if(V.value.length>0){_.length=0;var L=V.value.map((function(a,t){return function(a,t){var n,l,i=null!==(n=e.renderItem)&&void 0!==n?n:c.renderItem;if(!i)return null;var o=h(e.rowKey);return(l="function"===o?e.rowKey(a):"string"===o||"number"===o?a[e.rowKey]:a.key)||(l="list-item-".concat(t)),_[t]=l,i({item:a,index:t})}(a,t)})),M=L.map((function(e,a){return t("div",{key:_[a],style:q.value},[e])}));I=e.grid?t(w,{gutter:e.grid.gutter},{default:function(){return[M]}}):t("ul",{class:"".concat(p.value,"-items")},[L])}else y.length||P.value||(I=function(a){var n;return t("div",{class:"".concat(p.value,"-empty-text")},[(null===(n=e.locale)||void 0===n?void 0:n.emptyText)||a("List")])}(C.value));var k=G.value.position||"bottom";return t("div",{class:x},[("top"===k||"both"===k)&&O,g&&t("div",{class:"".concat(p.value,"-header")},[g]),t(z,N.value,{default:function(){return[I,y]}}),m&&t("div",{class:"".concat(p.value,"-footer")},[m]),f||("bottom"===k||"both"===k)&&O])}}});T.install=function(e){return e.component(T.name,T),e.component(T.Item.name,T.Item),e.component(T.Item.Meta.name,T.Item.Meta),e};var _=T;export{_ as L};
