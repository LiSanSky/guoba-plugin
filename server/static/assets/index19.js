import{B as e}from"./TableImg.js";import{a as o,b as i,cy as t,E as n,c as a,e as s,o as r,i as l,k as d,l as c,z as u,m,D as p}from"./index.js";import{u as g}from"./useTable.js";import{P as f}from"./index6.js";import{columns as j}from"./plugins.data.js";import{u as b}from"./index18.js";import{G as h}from"./GPluginModal.js";import"./merge.js";import"./onMountedOrActivated.js";import"./sortable.esm.js";import"./RedoOutlined.js";import"./scrollTo.js";import"./index13.js";import"./index14.js";import"./index8.js";import"./useContentViewHeight.js";import"./ArrowLeftOutlined.js";import"./guoba.js";import"./index7.js";import"./MarkdownViewer.js";import"./common.js";const x=i({name:"Plugins",components:{BasicTable:e,PageWrapper:f,GPluginModal:h,TableAction:t},setup(){const e=b(),[o,{openModal:i}]=n(),t=a({}),[s,{reload:r,updateTableDataRecord:l}]=g({title:"插件列表",api:()=>e.getPlugins(),rowKey:"id",columns:j,showTableSetting:!0,bordered:!0,canResize:!1,pagination:!0,indexColumnProps:{title:"#"},actionColumn:{width:80,title:"操作",dataIndex:"action"}});return{registerTable:s,registerModal:o,handleEdit:function(e){i(!0,{plugin:e})},handleDelete:function(e){},handleSuccess:function({isUpdate:e,values:o}){if(e){l(o.id,o)}else r()},handleView:function(e){i(!0,{plugin:e})},searchInfo:t}}}),T=m(" 插件列表来源： "),w=p("a",{href:"https://gitee.com/yhArcadia/Yunzai-Bot-plugins-index",target:"_blank"}," Yunzai-Bot插件索引 ",-1);var P=o(x,[["render",function(e,o,i,t,n,a){const m=s("TableAction"),p=s("BasicTable"),g=s("GPluginModal"),f=s("PageWrapper");return r(),l(f,{title:"插件管理"},{headerContent:d((()=>[T,w])),default:d((()=>[c(p,{onRegister:e.registerTable,searchInfo:e.searchInfo},{bodyCell:d((({column:o,record:i})=>["action"===o.key?(r(),l(m,{key:0,actions:[{icon:"clarity:info-standard-line",tooltip:"查看插件详情",onClick:e.handleView.bind(null,i)}]},null,8,["actions"])):u("",!0)])),_:1},8,["onRegister","searchInfo"]),c(g,{onRegister:e.registerModal,onSuccess:e.handleSuccess},null,8,["onRegister","onSuccess"])])),_:1})}]]);export{P as default};
