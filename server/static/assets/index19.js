import{b as t,v as e,c as n,r as a,w as o,aX as l,_ as r,k as u,U as c,D as s,aB as i,W as v,a0 as f,ev as p,E as d,L as y,T as b,O as m,ew as g,H as x,X as h,$ as S,Y as w,Z as C}from"./index.js";function O(t){var e,n=t.prefixCls,a=t.value,o=t.current,l=t.offset,r=void 0===l?0:l;return r&&(e={position:"absolute",top:"".concat(r,"00%"),left:0}),u("p",{style:e,class:c("".concat(n,"-only-unit"),{current:o})},[a])}function N(t,e,n){for(var a=t,o=0;(a+10)%10!==e;)a+=n,o+=n;return o}var j=t({name:"SingleNumber",props:{prefixCls:String,value:String,count:Number},setup:function(t){var c=e((function(){return Number(t.value)})),s=e((function(){return Math.abs(t.count)})),i=n({prevValue:c.value,prevCount:s.value}),v=function(){i.prevValue=c.value,i.prevCount=s.value},f=a();return o(c,(function(){clearTimeout(f.value),f.value=setTimeout((function(){v()}),1e3)}),{flush:"post"}),l((function(){clearTimeout(f.value)})),function(){var e,n={},a=c.value;if(i.prevValue===a||Number.isNaN(a)||Number.isNaN(i.prevValue))e=[O(r(r({},t),{current:!0}))],n={transition:"none"};else{e=[];for(var o=a+10,l=[],f=a;f<=o;f+=1)l.push(f);var p=l.findIndex((function(t){return t%10===i.prevValue}));e=l.map((function(e,n){var a=e%10;return O(r(r({},t),{value:a,offset:n-p,current:n===p}))}));var d=i.prevCount<s.value?1:-1;n={transform:"translateY(".concat(-N(i.prevValue,a,d),"00%)")}}return u("span",{class:"".concat(t.prefixCls,"-only"),style:n,onTransitionend:function(){return v()}},[e])}}}),T=globalThis&&globalThis.__rest||function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]])}return n},P=t({name:"ScrollNumber",inheritAttrs:!1,props:{prefixCls:String,count:f.any,component:String,title:f.any,show:Boolean},setup:function(t,e){var n=e.attrs,a=e.slots,o=s("scroll-number",t).prefixCls;return function(){var e,l=r(r({},t),n);l.prefixCls;var s=l.count,f=l.title;l.show;var p=l.component,d=void 0===p?"sup":p,y=l.class,b=l.style,m=T(l,["prefixCls","count","title","show","component","class","style"]),g=r(r({},m),{style:b,"data-show":t.show,class:c(o.value,y),title:f}),x=s;if(s&&Number(s)%1==0){var h=String(s).split("");x=h.map((function(t,e){return u(j,{prefixCls:o.value,count:Number(s),value:t,key:h.length-e},null)}))}b&&b.borderColor&&(g.style=r(r({},b),{boxShadow:"0 0 0 1px ".concat(b.borderColor," inset")}));var S=i(null===(e=a.default)||void 0===e?void 0:e.call(a));return S&&S.length?v(S,{class:c("".concat(o.value,"-custom-component"))},!1):u(d,g,{default:function(){return[x]}})}}});function B(t){return-1!==p.indexOf(t)}var k=globalThis&&globalThis.__rest||function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]])}return n},A=t({name:"ABadgeRibbon",inheritAttrs:!1,props:{prefix:String,color:{type:String},text:f.any,placement:{type:String,default:"end"}},slots:["text"],setup:function(t,n){var a=n.attrs,o=n.slots,l=s("ribbon",t),c=l.prefixCls,i=l.direction,v=e((function(){return B(t.color)})),f=e((function(){var e;return[c.value,"".concat(c.value,"-placement-").concat(t.placement),(e={},d(e,"".concat(c.value,"-rtl"),"rtl"===i.value),d(e,"".concat(c.value,"-color-").concat(t.color),v.value),e)]}));return function(){var e,n,l=a.class,s=a.style,i=k(a,["class","style"]),p={},d={};return t.color&&!v.value&&(p.background=t.color,d.color=t.color),u("div",y({class:"".concat(c.value,"-wrapper")},i),[null===(e=o.default)||void 0===e?void 0:e.call(o),u("div",{class:[f.value,l],style:r(r({},p),s)},[u("span",{class:"".concat(c.value,"-text")},[t.text||(null===(n=o.text)||void 0===n?void 0:n.call(o))]),u("div",{class:"".concat(c.value,"-corner"),style:d},null)])])}}}),V=t({name:"ABadge",Ribbon:A,inheritAttrs:!1,props:{count:f.any,showZero:{type:Boolean,default:void 0},overflowCount:{type:Number,default:99},dot:{type:Boolean,default:void 0},prefixCls:String,scrollNumberPrefixCls:String,status:{type:String},size:{type:String,default:"default"},color:String,text:f.any,offset:Array,numberStyle:{type:Object,default:void 0},title:String},slots:["text","count"],setup:function(t,n){var l=n.slots,i=n.attrs,f=s("badge",t),p=f.prefixCls,O=f.direction,N=e((function(){return t.count>t.overflowCount?"".concat(t.overflowCount,"+"):t.count})),j=e((function(){return null!==t.status&&void 0!==t.status||null!==t.color&&void 0!==t.color})),T=e((function(){return"0"===N.value||0===N.value})),k=e((function(){return t.dot&&!T.value})),A=e((function(){return k.value?"":N.value})),V=e((function(){return(null===A.value||void 0===A.value||""===A.value||T.value&&!t.showZero)&&!k.value})),I=a(t.count),_=a(A.value),z=a(k.value);o([function(){return t.count},A,k],(function(){V.value||(I.value=t.count,_.value=A.value,z.value=k.value)}),{immediate:!0});var E=e((function(){var e;return d(e={},"".concat(p.value,"-status-dot"),j.value),d(e,"".concat(p.value,"-status-").concat(t.status),!!t.status),d(e,"".concat(p.value,"-status-").concat(t.color),B(t.color)),e})),R=e((function(){return t.color&&!B(t.color)?{background:t.color}:{}})),Z=e((function(){var e;return d(e={},"".concat(p.value,"-dot"),z.value),d(e,"".concat(p.value,"-count"),!z.value),d(e,"".concat(p.value,"-count-sm"),"small"===t.size),d(e,"".concat(p.value,"-multiple-words"),!z.value&&_.value&&_.value.toString().length>1),d(e,"".concat(p.value,"-status-").concat(t.status),!!t.status),d(e,"".concat(p.value,"-status-").concat(t.color),B(t.color)),e}));return function(){var e,n,a,o=t.offset,s=t.title,f=t.color,N=i.style,T=b(l,t,"text"),k=p.value,A=I.value,z=m(null===(n=l.default)||void 0===n?void 0:n.call(l));z=z.length?z:null;var X=!(V.value&&!l.count),Y=function(){if(!o)return r({},N);var t={marginTop:g(o[1])?"".concat(o[1],"px"):o[1]};return"rtl"===O.value?t.left="".concat(parseInt(o[0],10),"px"):t.right="".concat(-parseInt(o[0],10),"px"),r(r({},t),N)}(),D=null!=s?s:"string"==typeof A||"number"==typeof A?A:void 0,H=X||!T?null:u("span",{class:"".concat(k,"-status-text")},[T]),L="object"===x(A)||void 0===A&&l.count?v(null!=A?A:null===(a=l.count)||void 0===a?void 0:a.call(l),{style:Y},!1):null,M=c(k,(d(e={},"".concat(k,"-status"),j.value),d(e,"".concat(k,"-not-a-wrapper"),!z),d(e,"".concat(k,"-rtl"),"rtl"===O.value),e),i.class);if(!z&&j.value){var U=Y.color;return u("span",y(y({},i),{},{class:M,style:Y}),[u("span",{class:E.value,style:R.value},null),u("span",{style:{color:U},class:"".concat(k,"-status-text")},[T])])}var W=h(z?"".concat(k,"-zoom"):"",{appear:!1}),$=r(r({},Y),t.numberStyle);return f&&!B(f)&&(($=$||{}).background=f),u("span",y(y({},i),{},{class:M}),[z,u(S,W,{default:function(){return[w(u(P,{prefixCls:t.scrollNumberPrefixCls,show:X,class:Z.value,count:_.value,title:D,style:$,key:"scrollNumber"},{default:function(){return[L]}}),[[C,X]])]}}),H])}}});export{V as B,A as R};
