var t=Object.defineProperty,e=Object.defineProperties,n=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,r=(e,n,o)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,s=(t,e)=>{for(var n in e||(e={}))a.call(e,n)&&r(t,n,e[n]);if(o)for(var n of o(e))l.call(e,n)&&r(t,n,e[n]);return t};import{l as i,aq as c,bN as u,b as d,ar as f,as as v,r as g,bW as p,R as b,bX as h,at as m,au as y,bY as C,bZ as x,b_ as H,b$ as w,c0 as k,c1 as O,U as j,aH as F,a as P,o as S,f as $,D as R,aV as B,x as T,a2 as _,n as I,H as L,c2 as A,c3 as E,bF as W,w as z,ah as D,c4 as N,p as M,I as q,c5 as V,e as X,i as Y,bu as U,h as Z,k as G,X as J,Y as K,F as Q,m as tt,q as et,y as nt,z as ot,al as at}from"./index.js";import{B as lt}from"./index8.js";import{o as rt}from"./onMountedOrActivated.js";import{a as st}from"./useContentViewHeight.js";import{A as it}from"./ArrowLeftOutlined.js";var ct={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){dt(t,e,n[e])}))}return t}function dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ft=function(t,e){var n=ut({},t,e.attrs);return i(c,ut({},n,{icon:ct}),null)};ft.displayName="ArrowRightOutlined",ft.inheritAttrs=!1;var vt=ft,gt=u(d({name:"APageHeader",props:{backIcon:f.any,prefixCls:String,title:f.any,subTitle:f.any,breadcrumb:f.object,tags:f.any,footer:f.any,extra:f.any,avatar:f.object,ghost:{type:Boolean,default:void 0},onBack:Function},slots:["backIcon","avatar","breadcrumb","title","subTitle","tags","extra","footer"],setup:function(t,e){var n=e.emit,o=e.slots,a=v("page-header",t),l=a.prefixCls,r=a.direction,s=a.pageHeader,c=g(!1),u=p(),d=function(t){var e=t.width;u.value||(c.value=e<768)},f=b((function(){var e,n,o;return null===(o=null!==(e=t.ghost)&&void 0!==e?e:null===(n=s.value)||void 0===n?void 0:n.ghost)||void 0===o||o})),j=function(){var e;return t.breadcrumb?i(lt,t.breadcrumb,null):null===(e=o.breadcrumb)||void 0===e?void 0:e.call(o)},F=function(){var e,a,s,c,u,d,f,v,g,p=t.avatar,b=null!==(e=t.title)&&void 0!==e?e:null===(a=o.title)||void 0===a?void 0:a.call(o),h=null!==(s=t.subTitle)&&void 0!==s?s:null===(c=o.subTitle)||void 0===c?void 0:c.call(o),m=null!==(u=t.tags)&&void 0!==u?u:null===(d=o.tags)||void 0===d?void 0:d.call(o),y=null!==(f=t.extra)&&void 0!==f?f:null===(v=o.extra)||void 0===v?void 0:v.call(o),C="".concat(l.value,"-heading"),x=b||h||m||y;if(!x)return null;var w=function(){var e,n,a;return null!==(a=null!==(e=t.backIcon)&&void 0!==e?e:null===(n=o.backIcon)||void 0===n?void 0:n.call(o))&&void 0!==a?a:"rtl"===r.value?i(vt,null,null):i(it,null,null)}(),j=function(e){return e&&t.onBack?i(O,{componentName:"PageHeader",children:function(t){var o=t.back;return i("div",{class:"".concat(l.value,"-back")},[i(k,{onClick:function(t){n("back",t)},class:"".concat(l.value,"-back-button"),"aria-label":o},{default:function(){return[e]}})])}},null):null}(w);return i("div",{class:C},[(j||p||x)&&i("div",{class:"".concat(C,"-left")},[j,p?i(H,p,null):null===(g=o.avatar)||void 0===g?void 0:g.call(o),b&&i("span",{class:"".concat(C,"-title"),title:"string"==typeof b?b:void 0},[b]),h&&i("span",{class:"".concat(C,"-sub-title"),title:"string"==typeof h?h:void 0},[h]),m&&i("span",{class:"".concat(C,"-tags")},[m])]),y&&i("span",{class:"".concat(C,"-extra")},[y])])},P=function(){var e,n,a=null!==(e=t.footer)&&void 0!==e?e:w(null===(n=o.footer)||void 0===n?void 0:n.call(o));return C(a)?null:i("div",{class:"".concat(l.value,"-footer")},[a])},S=function(t){return i("div",{class:"".concat(l.value,"-content")},[t])};return function(){var e,n,a,s=(null===(n=t.breadcrumb)||void 0===n?void 0:n.routes)||o.breadcrumb,u=t.footer||o.footer,v=h(null===(a=o.default)||void 0===a?void 0:a.call(o)),g=m(l.value,(y(e={"has-breadcrumb":s,"has-footer":u},"".concat(l.value,"-ghost"),f.value),y(e,"".concat(l.value,"-rtl"),"rtl"===r.value),y(e,"".concat(l.value,"-compact"),c.value),e));return i(x,{onResize:d},{default:function(){return[i("div",{class:g},[j(),F(),v.length?S(v):null,P()])]}})}}}));var pt=P(d({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:t}=j("page-footer"),{getCalcContentWidth:e}=F();return{prefixCls:t,getCalcContentWidth:e}}}),[["render",function(t,e,n,o,a,l){return S(),$("div",{class:T(t.prefixCls),style:_({width:t.getCalcContentWidth})},[R("div",{class:T(`${t.prefixCls}__left`)},[B(t.$slots,"left",{},void 0,!0)],2),B(t.$slots,"default",{},void 0,!0),R("div",{class:T(`${t.prefixCls}__right`)},[B(t.$slots,"right",{},void 0,!0)],2)],6)}],["__scopeId","data-v-7984b8f2"]]);function bt(t,e,n,o,a=0,l=g(0)){const r=g(null),{footerHeightRef:s}=st();let i={useLayoutFooter:!0};function c(t,e="all"){var n,o,a,l;function r(t){return Number(t.replace(/[^\d]/g,""))}let s=0;const i="0px";if(t){const c=getComputedStyle(t),u=r(null!=(n=null==c?void 0:c.marginTop)?n:i),d=r(null!=(o=null==c?void 0:c.marginBottom)?o:i),f=r(null!=(a=null==c?void 0:c.paddingTop)?a:i),v=r(null!=(l=null==c?void 0:c.paddingBottom)?l:i);"all"===e?(s+=u,s+=d,s+=f,s+=v):"top"===e?(s+=u,s+=f):(s+=d,s+=v)}return s}function u(t){return null==t?null:t instanceof HTMLDivElement?t:t.$el}function d(){return d=this,f=null,v=function*(){var d;if(!t.value)return;yield I();const f=u(L(e));if(!f)return;const{bottomIncludeBody:v}=A(f);let g=0;n.forEach((t=>{var e,n;g+=null!=(n=null==(e=u(L(t)))?void 0:e.offsetHeight)?n:0}));let p=null!=(d=c(f))?d:0;o.forEach((t=>{p+=c(u(L(t)))}));let b=0;function h(t,e){if(t&&e){const n=t.parentElement;n&&(D(e)?n.classList.contains(e)?b+=c(n,"bottom"):(b+=c(n,"bottom"),h(n,e)):N(e)&&e>0&&(b+=c(n,"bottom"),h(n,--e)))}}E(a)?h(f,L(a)):h(f,a);let m=v-L(s)-L(l)-g-p-b;const y=()=>{var t;null==(t=i.elements)||t.forEach((t=>{var e,n;m+=null!=(n=null==(e=u(L(t)))?void 0:e.offsetHeight)?n:0}))};i.useLayoutFooter&&L(s),y(),r.value=m},new Promise(((t,e)=>{var n=t=>{try{a(v.next(t))}catch(n){e(n)}},o=t=>{try{a(v.throw(t))}catch(n){e(n)}},a=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,o);a((v=v.apply(d,f)).next())}));var d,f,v}return rt((()=>{I((()=>{d()}))})),W((()=>{d()}),50,{immediate:!0}),z((()=>[s.value]),(()=>{d()}),{flush:"post",immediate:!0}),{redoHeight:function(){I((()=>{d()}))},setCompensation:t=>{i=t},contentHeight:r}}var ht=P(d({name:"PageWrapper",components:{PageFooter:pt,PageHeader:gt},inheritAttrs:!1,props:{title:M.string,dense:M.bool,ghost:M.bool,content:M.string,contentStyle:{type:Object},contentBackground:M.bool,contentFullHeight:M.bool,contentClass:M.string,fixedHeight:M.bool,upwardSpace:M.oneOfType([M.number,M.string]).def(0),loading:M.bool,sticky:M.bool,stickyTop:M.string},setup(t,{slots:o,attrs:a}){const l=g(null),r=g(null),i=g(null),c=g(null),{prefixCls:u}=j("page-wrapper");q(yt,b((()=>t.fixedHeight)));const d=b((()=>t.contentFullHeight)),f=b((()=>t.upwardSpace)),{redoHeight:v,setCompensation:p,contentHeight:h}=bt(d,l,[r,c],[i],f);p({useLayoutFooter:!0,elements:[c]});const m=b((()=>{var e;return[u,{[`${u}--dense`]:t.dense},null!=(e=a.class)?e:{}]})),y=b((()=>t.content||(null==o?void 0:o.headerContent)||t.title||H.value.length)),C=b((()=>{var e;let n={};return t.sticky&&(n.position="sticky",n.zIndex=1,n.top=null!=(e=t.stickyTop)?e:"-60px",n.boxShadow="0 0 5px -2px"),n})),x=b((()=>(null==o?void 0:o.leftFooter)||(null==o?void 0:o.rightFooter))),H=b((()=>Object.keys(V(o,"default","leftFooter","rightFooter","headerContent")))),w=b((()=>{const{contentFullHeight:o,contentStyle:a,fixedHeight:l}=t;if(!o)return s({},a);const r=`${L(h)}px`;return s((i=s({},a),e(i,n({minHeight:r}))),l?{height:r}:{});var i})),k=b((()=>{const{contentBackground:e,contentClass:n}=t;return[`${u}-content`,n,{[`${u}-content-bg`]:e}]}));return z((()=>[x.value]),(()=>{v()}),{flush:"post",immediate:!0}),{getContentStyle:w,wrapperRef:l,headerRef:r,contentRef:i,footerRef:c,getClass:m,getHeaderSlots:H,prefixCls:u,getShowHeader:y,getHeaderStyle:C,getShowFooter:x,omit:V,getContentClass:k}}}),[["render",function(t,e,n,o,a,l){const r=X("PageHeader"),s=X("a-spin"),c=X("PageFooter");return S(),$("div",{class:T(t.getClass),ref:"wrapperRef"},[t.getShowHeader?(S(),Y(r,nt({key:0,ghost:t.ghost,title:t.title},t.omit(t.$attrs,"class"),{ref:"headerRef",style:t.getHeaderStyle}),U({default:G((()=>[t.content?(S(),$(Q,{key:0},[tt(et(t.content),1)],64)):B(t.$slots,"headerContent",{key:1})])),_:2},[Z(t.getHeaderSlots,(e=>({name:e,fn:G((n=>[B(t.$slots,e,J(K(n||{})))]))})))]),1040,["ghost","title","style"])):ot("",!0),R("div",{class:T(["overflow-hidden",t.getContentClass]),style:_(t.getContentStyle),ref:"contentRef"},[i(s,{spinning:t.loading},{default:G((()=>[B(t.$slots,"default")])),_:3},8,["spinning"])],6),t.getShowFooter?(S(),Y(c,{key:1,ref:"footerRef"},{left:G((()=>[B(t.$slots,"leftFooter")])),right:G((()=>[B(t.$slots,"rightFooter")])),_:3},512)):ot("",!0)],2)}]]);at(pt);const mt=at(ht),yt="PageWrapperFixedHeight";export{mt as P,yt as a};
